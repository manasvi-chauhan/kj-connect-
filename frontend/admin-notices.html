<link rel="stylesheet" href="admin.css">
<link rel="stylesheet" href="style.css">
<script src="app.js"></script>

<div class="page-header">
    <div>
        <h2>Post Notice</h2>
        <p class="meta">Global notices with filters for department, class, and year. Seen indicator tracks who opened the notice.</p>
    </div>
    <span class="pill">Visible to all roles</span>
</div>

<form enctype="multipart/form-data" onsubmit="return app.handleNoticeForm(event)">
    <input type="text" id="posterName" placeholder="Admin Name" required>

    <input type="text" id="noticeTitle" placeholder="Notice Title" required>

    <label for="department">Department</label>
    <select id="department" multiple required>
        <option>Computer Engineering</option>
        <option>Information Technology</option>
        <option>Artificial Intelligence & Data Science</option>
        <option>EXTC</option>
        <option>All</option>
    </select>

    <label for="classSelect">Class / Division</label>
    <select id="classSelect">
        <option>A</option>
        <option>B</option>
        <option>All</option>
    </select>

    <label for="year">Year</label>
    <select id="year" multiple>
        <option>FY</option>
        <option>SY</option>
        <option>TY</option>
        <option>LY</option>
        <option>All</option>
    </select>

    <textarea id="noticeContent" placeholder="Notice Content" required></textarea>

    <label>Attach File</label>
    <input type="file" id="attachment" accept=".pdf,.doc,.docx,.ppt,.pptx,image/*,video/*">

    <button type="submit">Post Notice</button>
</form>

<div style="height:14px"></div>
<div class="flex-between" style="align-items:center;gap:14px;margin-bottom:10px;">
    <div>
        <strong>Manage Categories</strong>
        <div id="categoryList" style="margin-top:8px;"></div>
    </div>
    <div style="display:flex;gap:8px;align-items:center;">
        <input id="newCategory" placeholder="New category (eg. BSH)" style="padding:8px;border:1px solid #ccc;border-radius:6px;">
        <button class="role-btn" onclick="(function(){const v=document.getElementById('newCategory').value.trim(); if(v) {app.addCategory(v); document.getElementById('newCategory').value='';}})()">Add</button>
    </div>
</div>

<div style="height: 24px;"></div>

<div class="page-header">
    <div>
        <h2>Recent Notices</h2>
        <p class="meta">Includes a seen-by list for accountability.</p>
    </div>
    <span class="pill">Seen indicator live</span>
</div>

<div class="notices-list"></div>

<script>
    app.renderRecentNotices();
    app.renderCategoryList?.();
</script>
